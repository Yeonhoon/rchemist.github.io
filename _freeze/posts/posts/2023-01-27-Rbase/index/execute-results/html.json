{
  "hash": "1d0ab31dcf5b1abfb6213571e3041aab",
  "result": {
    "markdown": "---\ntitle: \"R 기초 이해\"\ndescription: \"R 사용을 위한 필수 개념 및 함수을 배워봅시다.\"\ndate: '2023-01-19'\ncategories: [R, data.frame]\nimage: \"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/2560px-R_logo.svg.png\"\n---\n\n\n이번 포스트에서는 R을 사용하기 위해 반드시 알아야 하는 R 필수 개념에 대해 설명드리도록 하겠습니다.\n\n# R에서 사용되는 용어\n\n## Object\n\nobject란 R에서 어떠한 데이터를 갖는 값을 의미합니다. Object는 객체라고도 불리며, 다양한 유형이나 구조의 데이터를 특정 이름으로 저장하는 것을 말합니다.\n\n### object의 생성\n\nR에서 object(객체)의 생성은 `<-` 또는 `=` 를 통해 이루어집니다.\n\n`<-`를 기준으로 왼쪽의 값이 object의 이름이고 오른쪽이 object가 갖게 되는 또는 object에 저장되는 데이터입니다.\n\n> LHS \\<- RHS\n>\n> A \\<- B\n\n### object의 생성과 출력\n\nobject를 생성한다는 것은 특정 데이터를 [특정한 이름으로 **저장**]{.underline}하는 것입니다.\n\n`A <- B` 를 사용해 데이터를 생성하면 A라는 object에는 B라는 데이터가 저장됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\na <- 'Welcome to R!'\naa <- 'aa'\naa <- 1\n```\n:::\n\n\n위에서는 'Welcome to R!'이라고 하는 문자를 `a`라고 하는 object 로 생성한 것입니다. 반면 object의 출력은 생성한 object 에 [저장되어 있는 데이터를 확인]{.underline}하는 것입니다.\n\nobject를 생성한다고 해서 그 값이 출력되지는 않습니다. object 갖고 있는 데이터를 확인하기 위해서는 object의 이름을 실행하거나 출력하는 함수를 사용해야 합니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\na \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Welcome to R!\"\n```\n:::\n\n```{.r .cell-code}\n# 또는\nprint(a)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Welcome to R!\"\n```\n:::\n:::\n\n\n만약 object를 생성함과 동시에 그 object를 출력하고 싶다면 아래와 같이 실행하면 됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\na <- 'Welcome to R!'; print(a)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Welcome to R!\"\n```\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n## Function (함수)\n\nR에서 함수란 특정한 기능을 수행하는 명령어입니다. 보통 \"\\~을 한다\" 처럼 우리말의 동사라고 이해하면 쉽습니다.\n\nR에서 함수는 일반적으로 `()`가 붙습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint <- '프린트' # 프린트라는 값을 갖는 object\nprint('dd') # 'dd'를 출력하는 함수\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"dd\"\n```\n:::\n:::\n\n\n위의 예시에서 `print`는 '프린트'라는 문자를 갖는 [object]{.underline}인 반면, `print()`는 특정 object를 출력하는 [함수]{.underline}입니다.\n\n물론 함수의 이름으로도 object를 만들 수 있습니다. 그러나 이럴 경우, 분석 과정에서 이름을 혼동하는 경우가 발생할 수 있기 때문에, 나중을 생각한다면 그렇게 권장하는 방법은 아닙니다. 따라서 함수명이 아닌 다른 이름으로 object를 만드시는 것을 추천합니다.\n\n::: callout-tip\nR 뿐만 아니라 프로그래밍 언어에는 일반적으로 영어를 활용하여 object 이름을 붙여줍니다.\n\n다양한 방법들이 있겠으나, 추천드리는 방법은 다음과 같습니다. 우선 띄어쓰기가 필요없는 하나의 단어로 object 이름을 지어주는 것은 말그대로 영어단어를 사용해주면 됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nresult <- 'the result'\n```\n:::\n\n\n하나의 단어를 뛰어 넘어 여러 개의 단어를 붙여 써야 하는 경우에는 아래의 방법 중 원하는 방식을 사용하시면 됩니다.\n\n-   myResult\n-   my_result\n-   my.result\n:::\n\n------------------------------------------------------------------------\n\n## 작업 경로 (working directory, wd)\n\n작업경로란 현재 내가 데이터 분석을 진행하고 있는 위치를 의미합니다.\n\n작업경로와 관련된 함수는 크게 2가지가 있습니다.\n\n-   `getwd()` 현재 내 작업경로를 확인합니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    getwd()\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] \"/Users/jyh/Documents/blog/posts/posts/2023-01-27-Rbase\"\n    ```\n    :::\n    :::\n\n\n-   `setwd()` 작업경로를 특정한 곳으로 변경합니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    setwd(\"작업경로로 설정할 위치\")\n    ```\n    :::\n\n\n작업경로를 설정하는 이유는 외부 데이터 파일(e.g., .csv) 을 불러올 때, 그 파일이 있는 경로가 필요하기 때문입니다.\n\n------------------------------------------------------------------------\n\n## 패키지 (packages)\n\nR에서 패키지란 [**특정 함수들을 포함하고 있는 함수 세트**]{.underline} 라고 할 수 있습니다.\n\n데이터 분석에 필요한 패키지들을 설치한 뒤 그 패키지를 불러 들여와야 사용할 수 있습니다.\n\n-   패키지 설치: `install.packages()`\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    install.packages('패키지명')\n    ```\n    :::\n\n\n    위와 같이 설치하고자 하는 패키지를 `install.packages()` 함수 안에 [따옴표가 붙은 문자 형태]{.underline}로 넣어주어야 합니다.\n\n-   패키지 불러오기: `library()` 또는 `require()`\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    library(dplyr)\n    # 또는\n    require(dplyr)\n    ```\n    :::\n\n\n    설치된 패키지를 불러오기 위해서는 `library()` 또는 `require()` 함수 안에 패키지 이름을 [object 형태(따옴표가 붙지 않은 형태)]{.underline}로 넣어주어야 합니다.\n\n    사실 패키지 이름을 입력할 때, 따옴표를 사용해 문자로 넣어주어도 가능합니다. 그러나 문자열로 넣게 된다면 [자동완성기능]{.underline}을 활용할 수 없게 됩니다. 그렇기 때문에 패키지의 이름을 전부 입력해야만 하죠. 따라서 가급적이면 따옴표를 사용하지 않는 것을 추천합니다.\n\n    ::: callout-note\n    `library()`와 `require()`는 패키지를 불러온다는 점에서 동일한 역할을 하지만, 차이점이 존재합니다.\n\n    `library()` 는 설치되지 않은 패키지를 불러오면 에러메시지를 출력하지만, `require()`는 경고와 함께 T/F 값을 반환할 수 있습니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # library\n    library(ggplot3)\n    ```\n    :::\n\n\n    ``` {style=\"color: red;\"}\n    Error in library(ggplot3) : there is no package called 'ggplot3'\n    ```\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    require(ggplot3)\n    ```\n    :::\n\n\n    ``` {style=\"color: red\"}\n    필요한 패키지를 로딩중입니다: ggplot3\n    Warning message:\n    In library(package, lib.loc = lib.loc, character.only = TRUE, logical.return = TRUE,  :\n      ‘ggplot3’이라고 불리는 패키지가 없습니다\n    ```\n    :::\n\n패키지를 성공적으로 불러왔다면, 패키지에 있는 함수들을 활용할 수 있게 됩니다.\n\n물론 패키지를 불러오지 않고 (`library()`나 `require()`를 이용하지 않고) 패키지 내의 함수를 사용하는 방법이 있긴 합니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndplyr::select(column이름) #패키지명::함수\n```\n:::\n\n\n위의 코드처럼 `패키지명::함수명` 의 방식을 이용한다면 패키지 내에 있는 함수들을 사용할 수 있습니다.\n\n그러나 매번 `패키지명::`을 이용해 함수를 이용하는 것보다 `library()` 함수를 한 번 실행한 뒤, 패키지의 함수들을 이용하는 것이 훨씬 효율적이겠죠?\n\n------------------------------------------------------------------------\n\n# 데이터의 유형\n\nR에서 가장 기본적으로 활용되는 데이터의 유형 (type)에 대해 알아볼 것입니다.\n\nR의 기본적인 데이터의 유형은 크게 `numeric`, `charcter`, `factor`, `logical` 이 있음.\n\n## numeric\n\n`numeric`은 이름에서 알 수 있듯이 숫자 데이터입니다. numeric은 정수와 실수를 모두 포함합니다. R에서 정수는 `integer`, 실수는 `double`로 표현됩니다.\n\n### integer\n\n우리가 생각하는 정수는 흔히 소숫점이 없는 숫자입니다. 그러나 R에서는 단순히 숫자에 소수점이 없다고 해서 integer로 인식하지 않습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nis.integer(1) # FALSE\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] FALSE\n```\n:::\n\n```{.r .cell-code}\nclass(1) # numeric\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"numeric\"\n```\n:::\n\n```{.r .cell-code}\nis.integer(1L)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\nclass(1L)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"integer\"\n```\n:::\n:::\n\n\n위의 코드로 봤을 때, 단순한 `1`은 integer가 아니라 `numeric`입니다.\n\nR에서 `integer`를 사용하기 위해선 숫자 뒤에 `L`을 붙여주어야 합니다.\n\n### double\n\n우리가 알고 있는 실수는 소수점이 있는 숫자입니다. 그러나 R에서는 앞서 살펴 보았듯, `L`이 붙어 `integer`로 지정된 숫자가 아니라면 모두 실수라고 할 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nis.numeric(1) #TRUE\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\nis.double(1) #TRUE\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\nclass(1.5) #numeric\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"numeric\"\n```\n:::\n:::\n\n\n1이라는 숫자는 `double`이기도 하면서 동시에 `numeric`입니다. 또한 소수점이 들어가는 숫자의 유형을 확인해보면 `double`이 아니라 `numeric`이라는 것을 알 수 있습니다.\n\n즉, `numeric`이 숫자데이터에서 가장 상위의 개념이고 그 하위 개념으로 `double` 과 `integer` 가 있다고 이해하시면 쉽습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#|echo: false\n#|warning: false\n\nrequire(ggplot2)\nrequire(ggforce)\ntemp <- data.frame(x=c(100,300,200),\n                   y=c(250,250,250),\n                   r=c(80,80,200),\n                   y_label=c(250,250,450),\n                   label = c('integer','double','numeric'))\nggplot(temp) + \n  geom_circle(aes(x0=x,y0=y,r=r, fill=label),alpha=.2) +\n  coord_fixed()+\n  geom_label(data=temp,aes(x=x,y=y_label,label=label))+\n  theme_void()+\n  labs(title='    숫자유형 데이터의 관계')+\n  theme(legend.position='none')\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n그러나 이 둘을 구분해서 사용하는 경우는 드뭅니다. 모든 숫자 데이터는 numeric으로 사용하셔도 상관없습니다.\n\n## character\n\n`character`는 큰 따옴표 또는 작은 따옴표가 붙은 문자열 데이터를 의미합니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchr <- 'character'\nchr\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"character\"\n```\n:::\n:::\n\n\n앞서 object 부분에서 말씀드렸듯이, 'character' 라는 문자열 데이터이고, chr는 'character' 값을 갖는 object입니다. `chr` 와 `'chr'`을 헷갈리지 마시기 바랍니다.\n\n## factor\n\n`factor`는 다른 데이터의 유형과 달리 순서 (level)를 갖는 데이터 유형입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvec_num <- 1:10\nvec_fac <- factor(1:10)\nclass(vec_fac) # factor\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"factor\"\n```\n:::\n\n```{.r .cell-code}\nprint(vec_fac) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 1  2  3  4  5  6  7  8  9  10\nLevels: 1 2 3 4 5 6 7 8 9 10\n```\n:::\n:::\n\n\n`vec_num`과 `vec_fac`은 모두 1부터 10까지의 데이터를 갖고 있습니다. 그러나 `vec_num`과 달리 `vec_fac`을 출력했을 때, `Levels`도 함께 출력되는 것을 확인할 수 있습니다.\n\n만약 임의로 `factor` 변수의 level을 변경하고 싶다면 아래와 같이 `factor` 함수 안에 `levels` 부분을 수정해주면 됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvec_fac2 <- factor(1:10,  levels=c(1,3,5,7,9,10,8,6,4,2))\nprint(vec_fac2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 1  2  3  4  5  6  7  8  9  10\nLevels: 1 3 5 7 9 10 8 6 4 2\n```\n:::\n:::\n\n\n`vec_fac`과 `vec_fac2`의 levels가 다른 것을 확인할 수 있습니다.\n\n또한 factor를 ordinal 하게 만들어줄 수 있습니다. `ordered=T` 를 이용해 nominal 한 factor를 ordinal하게 변경할 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvec_fac3 <- factor(1:10,\n                   ordered = T,\n                   levels=c(1,3,5,7,9,10,8,6,4,2))\nprint(vec_fac3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 1  2  3  4  5  6  7  8  9  10\nLevels: 1 < 3 < 5 < 7 < 9 < 10 < 8 < 6 < 4 < 2\n```\n:::\n:::\n\n\n출력 시 Levels에 `<` 가 생성되는 것을 알 수 있습니다.\n\n## logical\n\n`logical`은 단어에서 알 수 있듯 논리형 데이터 입니다. 쉽게 말하면 참(`TRUE`)인지 거짓(`FALSE`)인지를 나타내는 데이터 유형입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclass(TRUE) #  logical\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"logical\"\n```\n:::\n\n```{.r .cell-code}\nTRUE\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\nFALSE\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] FALSE\n```\n:::\n\n```{.r .cell-code}\nT\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] TRUE\n```\n:::\n\n```{.r .cell-code}\nF\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] FALSE\n```\n:::\n:::\n\n\nR에서 `TRUE` 와 `FALSE` 는 각각 `T` 와 `F`로 줄여쓸 수 있습니다.\n\n::: callout-note\nR에서 사용되는 변수를 개념적으로 정리해보면 다음과 같습니다.\n\n연속형 변수(Continuous variable): `numeric`, `integer`, `double`\n\n범주형 변수(Categorical variable): `character`, `factor`\n:::\n\n------------------------------------------------------------------------\n\n# 데이터의 구조\n\n앞서서 데이터의 유형에 배워봤다면, 이번에는 데이터가 어떤 형태로 존재하는지 알아볼 차례입니다.\n\nR에서 가장 많이 활용되는 4가지의 데이터 구조, `vector`, `matirx`, `data.frame`, `list`를 배워보도록 하겠습니다.\n\n## Vector\n\nvector는 하나 이상의 값을 갖는 1차원 구조의 데이터입니다. 가장 단순하지만, 또 데이터 분석에 많이 활용되는 데이터 구조 중 하나입니다.\n\n보통 vector를 생성할 때는 `c()` 를 이용해 생성합니다. `c()`는 'concatenate'의 약자입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvec1 <- c(1,2,3); vec1\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1 2 3\n```\n:::\n\n```{.r .cell-code}\nvec2 <- c('a','b','c'); vec2\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"a\" \"b\" \"c\"\n```\n:::\n:::\n\n\n`vec1`은 numeric 데이터를 갖는 vector이고 `vec2`는 character 데이터를 갖는 vector입니다.\n\n여러 유형의 데이터를 갖는 vector인 경우, 하나라도 문자(character) 또는 factor가 있는 경우, 전부 그 유형의 데이터를 갖는 vector로 저장됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvec3 <- c(1,2,3,'a',5,6)\nvec3\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"1\" \"2\" \"3\" \"a\" \"5\" \"6\"\n```\n:::\n:::\n\n\n`vec3`를 선언할 때는 1,2,3 과 같은 숫자가 들어갔지만, `vec3`를 출력해보면 따옴표가 붙은 character인 것을 알 수 있습니다.\n\n## Matrix\n\n2차원 구조의 데이터입니다. 행렬이라고 이해하시면 쉽습니다.\n\nR에서 `matrix`를 생성하는 함수는 `matrix()`입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmat <- matrix(1:12)\nmat2 <- matrix(1:12, nrow=3) # 행의 개수: 3\nmat3 <- matrix(1:12, ncol=3) # 열의 개수: 3\nmat4 <- matrix(1:12, ncol=3, byrow=T)\n```\n:::\n\n\n`matrix()` 함수에서는 행 또는 열의 개수를 지정해줄 수 있습니다.\n\n-   `nrow()` : 행의 개수 지정\n\n-   `ncol()`: 열의 개수 지정\n\n마지막의 `byrow`인자는 `matrix`의 입력 순서를 행의 방향으로 설정해주는 것입니다. 초기에는 `matrix`가 열 방향(위에서 아래로 (↓))이었다면, `byrow`를 통해 `matrix`의 값들을 행 방향 (좌에서 우로 (→))으로 입력할 수 있습니다.\n\n## Data.frame\n\n2차원 구조의 데이터로서, R에서 데이터분석을 위해 가장 많이 활용되는 데이터 구조입니다. 데이터프레임은 matrix와 동일한 2차원 형태지만 몇 가지 다른 점이 있습니다.\n\n-   matrix와 달리, `$` 기호를 이용해 column 이름으로 호출 가능합니다.\n-   각 열(column)별로 다른 데이터 유형을 가질 수 있습니다.\n\n`data.frame`은 앞으로 가장 많이 사용할 데이터 구조이기 때문에, 아래에서 더 다뤄보도록 하겠습니다.\n\n## List\n\n`list`는 다른 데이터 구조들과는 다릅니다.\n\n-   데이터프레임의 column처럼 데이터마다 이름을 가질 수 있습니다.\n\n-   각 이름마다 다른 유형, 다른 구조의 데이터를 가질 수 있습니다.\n\n-   각 이름마다 길이가 다른 데이터를 가질 수 있습니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    l <- list()\n    l$a <- 1:5\n    l$b <- LETTERS # 알파벳 대문자\n    l$c <- matrix(1:20,nrow=4, byrow=T)\n    l$d <- data.frame(a=1:5, b=letters[1:5])\n    l\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    $a\n    [1] 1 2 3 4 5\n    \n    $b\n     [1] \"A\" \"B\" \"C\" \"D\" \"E\" \"F\" \"G\" \"H\" \"I\" \"J\" \"K\" \"L\" \"M\" \"N\" \"O\" \"P\" \"Q\" \"R\" \"S\"\n    [20] \"T\" \"U\" \"V\" \"W\" \"X\" \"Y\" \"Z\"\n    \n    $c\n         [,1] [,2] [,3] [,4] [,5]\n    [1,]    1    2    3    4    5\n    [2,]    6    7    8    9   10\n    [3,]   11   12   13   14   15\n    [4,]   16   17   18   19   20\n    \n    $d\n      a b\n    1 1 a\n    2 2 b\n    3 3 c\n    4 4 d\n    5 5 e\n    ```\n    :::\n    :::\n\n\n    위의 코드를 보면, `l`이라고 하는 `list`에는 `a`라는 이름을 갖는 데이터와 `b`라는 이름을 갖는 데이터가 존재합니다.\n\n    또한 `a`는 1부터 5까지의 `numeric` 유형의 `vector`를 갖는 반면, `b`는 알파벳 대문자의 `character` 유형의 `vector`를, `c`는 4행 5열의 `matrix`를, 마지막으로 `d`는 `data.frame`을 갖습니다.\n\n------------------------------------------------------------------------\n\n# Operator: 연산자\n\n## 산술 연산자\n\n산술연산자는 숫자를 계산하는 데 사용되는 연산자를 말합니다. 우리가 잘 아는 덧셈(+), 뺄셈(-), 곱셈(\\*), 나눗셈(/) 등의 연산자가 있습니다.\n\n## 논리 연산자\n\n논리 연산자는 참(`TRUE`)과 거짓(`FALSE`)를 반환하는 연산자들을 의미합니다. 보통 LHS와 RHS의 값을 비교할 때 사용하는 연산자입니다.\n\n연산 결과가 맞는 경우는 TRUE를, 그렇지 않은 경우는 FALSE를 반환합니다.\n\n논리 연산자는 주로 [데이터프레임과 함께 특정 조건을 만족하는 행을 찾아]{.underline}낼 때 사용합니다.\n\n-   `A == B`: 같음\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    10 == 10\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    :::\n\n\n-   `A < B`, `A <= B` : 작음, 작거나 같음\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    5 < 10\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    5<=10\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    :::\n\n\n-   `A > B`, `A >= B` :큼, 크거나 같음\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    44>=10\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    10>35\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] FALSE\n    ```\n    :::\n    :::\n\n\n-   `A != B` : 같지 않음\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    10 != 5\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    :::\n\n\n-   `A & B` : A와 B가 모두 참일 때 `TRUE`를 반환합니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    10 >5 & 25 > 20\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    :::\n\n\n-   `A | B` : A 또는 B 하나만 참이면 `TRUE`를 반환합니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    10 <5 | 50 > 49\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    :::\n\n\n## 파이프 연산자\n\n파이프 연산자란 R의 특수한 연산자로, `%` 가 붙은 연산자들을 의미합니다. 대표적인 파이프 연산자는 `%>%` 가 있습니다. 이 연산자를 사용하기 위해선 `magrittr` 패키지가 필요합니다. 단축키는 `ctrl + shift + m` 로 사용할 수 있습니다.\n\n::: callout-tip\n기존에 존재하던 `%>%` 는 `magrittr` 패키지를 불러들여와야 사용이 가능했습니다. 하지만 R 4.1 이후로는 기본적으로 `|>` 라는 파이프 연산자를 제공하고 있습니다. 실질적으로 기능은 거의 같기 때문에 원하는 파이프 연산자를 사용하시면 됩니다.\n:::\n\n# 데이터 프레임\n\n이번 장에서는 R의 데이터 구조 중 가장 많이 활용되는 `data.frame`에 대해 심층적으로 알아보겠습니다데이터를 보며 설명하기 전, 데이터프레임에 대해 개념적으로 꼭 알아두어야 할 것이 있습니다. 바로 데이터프레임은 열(column) 중심의 데이터 구조라는 것입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npkg <- require(NHANES)\nif(!pkg) install.packages('NHANES') # 패키지 설치\nrequire(NHANES)\ndf <- as.data.frame(NHANES)[1:20,]\n```\n:::\n\n\n먼저 `df` 라는 이름으로 데이터를 저장하였습니다. `NHANES` 데이터는 `NHANES` 패키지 설치를 통해 사용할 수 있습니다. `NHANES` 데이터는 미국의 건강영양조사 데이터입니다.\n\n데이터프레임은 행/열의 번호나 이름을 통해 그 일부분을 선택할 수 있습니다. R 기본 데이터 프레임은 `df[row, column]` 형식으로 사용가능합니다.\n\n### 번호로 선택하기\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[1,]\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1 |Race3 |Education   |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO   | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|-----:|:--------|:------|---:|:---------|---------:|:-----|:-----|:-----------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:---------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:---------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker    |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n\n</div>\n:::\n:::\n\n\n우선 번호로 행을 선택하는 방법은 대괄호 안에 행의 번호를 입력한 뒤, ,를 찍어주는 것입니다.\n\n여러 행을 선택하기 위해선 `c()`로 묶거나, :을 통해 연속적인 행의 번호를 넣어주면 됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[c(1,3,5),] # 1,3,5행 선택\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|   |    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1 |Race3 |Education    |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO   | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|:--|-----:|:--------|:------|---:|:---------|---------:|:-----|:-----|:------------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:---------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:---------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n|1  | 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker    |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n|3  | 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker    |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n|5  | 51630|2009_10  |female |  49|40-49     |       596|White |NA    |Some College |LivePartner   |35000-44999 |       40000|    1.91|         5|Rent    |NotWorking |   86.7|     NA|       NA|  168.4| 30.57|NA               |30.0_plus |    86|      112|       75|    118|     82|    108|     74|    116|     76|           NA|       1.16|    6.70|        77|      0.094|        NA|         NA|No       |          NA|Good      |               0|              10|Several        |Several   |            2|       2|         27|             8|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          2|          20|Yes      |Yes      |Smoker    |       38|Yes       |            18|No           |          NA|Yes       |Yes     |     12|              10|              1|Yes     |Heterosexual   |NA          |\n\n</div>\n:::\n\n```{.r .cell-code}\ndf[1:10,] # 1~10행 선택\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1 |Race3 |Education    |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO      | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n  | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|-----:|:--------|:------|---:|:---------|---------:|:-----|:-----|:------------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:------------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:----------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus    |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker     |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus    |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker     |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus    |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker     |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n| 51625|2009_10  |male   |   4|0-9       |        49|Other |NA    |NA           |NA            |20000-24999 |       22500|    1.07|         9|Own     |NA         |   17.0|     NA|       NA|  105.4| 15.30|NA               |12.0_18.5    |    NA|       NA|       NA|     NA|     NA|     NA|     NA|     NA|     NA|           NA|         NA|      NA|        NA|         NA|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             4|               1|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n| 51630|2009_10  |female |  49|40-49     |       596|White |NA    |Some College |LivePartner   |35000-44999 |       40000|    1.91|         5|Rent    |NotWorking |   86.7|     NA|       NA|  168.4| 30.57|NA               |30.0_plus    |    86|      112|       75|    118|     82|    108|     74|    116|     76|           NA|       1.16|    6.70|        77|      0.094|        NA|         NA|No       |          NA|Good      |               0|              10|Several        |Several   |            2|       2|         27|             8|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          2|          20|Yes      |Yes      |Smoker     |       38|Yes       |            18|No           |          NA|Yes       |Yes     |     12|              10|              1|Yes     |Heterosexual   |NA          |\n| 51638|2009_10  |male   |   9|0-9       |       115|White |NA    |NA           |NA            |75000-99999 |       87500|    1.84|         6|Rent    |NA         |   29.8|     NA|       NA|  133.1| 16.82|NA               |12.0_18.5    |    82|       86|       47|     84|     50|     84|     50|     88|     44|           NA|       1.34|    4.86|       123|      1.538|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             5|               0|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n| 51646|2009_10  |male   |   8|0-9       |       101|White |NA    |NA           |NA            |55000-64999 |       60000|    2.33|         7|Own     |NA         |   35.2|     NA|       NA|  130.6| 20.64|NA               |18.5_to_24.9 |    72|      107|       37|    114|     46|    108|     36|    106|     38|           NA|       1.55|    4.09|       238|      1.322|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             1|               6|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n| 51647|2009_10  |female |  45|40-49     |       541|White |NA    |College Grad |Married       |75000-99999 |       87500|    5.00|         6|Own     |Working    |   75.7|     NA|       NA|  166.7| 27.24|NA               |25.0_to_29.9 |    62|      118|       64|    106|     62|    118|     68|    118|     60|           NA|       2.12|    5.82|       106|      1.116|        NA|         NA|No       |          NA|Vgood     |               0|               3|None           |None      |            1|      NA|         NA|             8|No           |Yes        |              5|NA       |NA         |            NA|              NA|Yes             |          3|          52|NA       |No       |Non-Smoker |       NA|Yes       |            13|No           |          NA|No        |Yes     |     13|              20|              0|Yes     |Bisexual       |NA          |\n| 51647|2009_10  |female |  45|40-49     |       541|White |NA    |College Grad |Married       |75000-99999 |       87500|    5.00|         6|Own     |Working    |   75.7|     NA|       NA|  166.7| 27.24|NA               |25.0_to_29.9 |    62|      118|       64|    106|     62|    118|     68|    118|     60|           NA|       2.12|    5.82|       106|      1.116|        NA|         NA|No       |          NA|Vgood     |               0|               3|None           |None      |            1|      NA|         NA|             8|No           |Yes        |              5|NA       |NA         |            NA|              NA|Yes             |          3|          52|NA       |No       |Non-Smoker |       NA|Yes       |            13|No           |          NA|No        |Yes     |     13|              20|              0|Yes     |Bisexual       |NA          |\n| 51647|2009_10  |female |  45|40-49     |       541|White |NA    |College Grad |Married       |75000-99999 |       87500|    5.00|         6|Own     |Working    |   75.7|     NA|       NA|  166.7| 27.24|NA               |25.0_to_29.9 |    62|      118|       64|    106|     62|    118|     68|    118|     60|           NA|       2.12|    5.82|       106|      1.116|        NA|         NA|No       |          NA|Vgood     |               0|               3|None           |None      |            1|      NA|         NA|             8|No           |Yes        |              5|NA       |NA         |            NA|              NA|Yes             |          3|          52|NA       |No       |Non-Smoker |       NA|Yes       |            13|No           |          NA|No        |Yes     |     13|              20|              0|Yes     |Bisexual       |NA          |\n\n</div>\n:::\n:::\n\n\n만약 `,` 없이 숫자만 들어간다면 행을 선택하는 것이 아니라 열을 선택하게 됩니다. 따라서 행을 선택하고자 한다면 반드시 `,`를 붙여줘야 합니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[c(1,3,5)] # 1,3,5열 선택\n```\n:::\n\n\n올바르게 열을 선택하기 위해선 , 다음에 선택하고자 하는 열의 번호를 선택하면 됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[,1]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 51624 51624 51624 51625 51630 51638 51646 51647 51647 51647 51654 51656\n[13] 51657 51659 51666 51667 51671 51677 51678 51679\n```\n:::\n:::\n\n\n### 이름으로 선택하기\n\n앞서 말씀드린 것처럼 `data.frame`은 column이 중심이 되는 데이터 구조입니다. 따라서 행을 선택하는 일보다는 column을 선택하여 데이터 분석을 진행하는 일이 훨씬 많습니다.\n\n데이터 프레임에서 열을 선택하기 위해서는 앞서 열의 번호를 선택하는 방법도 있습니다. 그러나 모든 열의 위치를 번호로 호출하는 것은 번거로운 일입니다. 따라서 열의 이름으로 호출하는 것이 더욱 쉽고 효율적입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[,'BMI']\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] 32.22 32.22 32.22 15.30 30.57 16.82 20.64 27.24 27.24 27.24 23.67 23.69\n[13] 26.03 19.20 26.22 26.60 27.40 28.54 25.84 24.74\n```\n:::\n:::\n\n\n위처럼 대괄호와 열의 이름을 함께 사용할 수도 있으나, `$` 을 이용해 더욱 쉽게 데이터프레임의 열을 선택할 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf$Gender\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] male   male   male   male   female male   male   female female female\n[11] male   male   male   female female male   female male   male   male  \nLevels: female male\n```\n:::\n:::\n\n\n대괄호보다 `$`가 좋은 점은 [자동완성 기능]{.underline}이 있다는 것입니다. `$` 를 누른 뒤, 제시되는 column들이 떴을 때, 위아래 방향키를 통해 원하는 열의 이름을 선택하기만 하면 됩니다.\n\n### 조건으로 선택하기\n\n앞서 논리 연산자를 통해 특정 조건을 충족하는 행을 선택할 수 있다고 하였습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[df$Gender=='female',]\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|   |    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1   |Race3 |Education    |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO      | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n  | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|:--|-----:|:--------|:------|---:|:---------|---------:|:-------|:-----|:------------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:------------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:----------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n|5  | 51630|2009_10  |female |  49|40-49     |       596|White   |NA    |Some College |LivePartner   |35000-44999 |       40000|    1.91|         5|Rent    |NotWorking |   86.7|     NA|       NA|  168.4| 30.57|NA               |30.0_plus    |    86|      112|       75|    118|     82|    108|     74|    116|     76|           NA|       1.16|    6.70|        77|      0.094|        NA|         NA|No       |          NA|Good      |               0|              10|Several        |Several   |            2|       2|         27|             8|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          2|          20|Yes      |Yes      |Smoker     |       38|Yes       |            18|No           |          NA|Yes       |Yes     |     12|              10|              1|Yes     |Heterosexual   |NA          |\n|8  | 51647|2009_10  |female |  45|40-49     |       541|White   |NA    |College Grad |Married       |75000-99999 |       87500|    5.00|         6|Own     |Working    |   75.7|     NA|       NA|  166.7| 27.24|NA               |25.0_to_29.9 |    62|      118|       64|    106|     62|    118|     68|    118|     60|           NA|       2.12|    5.82|       106|      1.116|        NA|         NA|No       |          NA|Vgood     |               0|               3|None           |None      |            1|      NA|         NA|             8|No           |Yes        |              5|NA       |NA         |            NA|              NA|Yes             |          3|          52|NA       |No       |Non-Smoker |       NA|Yes       |            13|No           |          NA|No        |Yes     |     13|              20|              0|Yes     |Bisexual       |NA          |\n|9  | 51647|2009_10  |female |  45|40-49     |       541|White   |NA    |College Grad |Married       |75000-99999 |       87500|    5.00|         6|Own     |Working    |   75.7|     NA|       NA|  166.7| 27.24|NA               |25.0_to_29.9 |    62|      118|       64|    106|     62|    118|     68|    118|     60|           NA|       2.12|    5.82|       106|      1.116|        NA|         NA|No       |          NA|Vgood     |               0|               3|None           |None      |            1|      NA|         NA|             8|No           |Yes        |              5|NA       |NA         |            NA|              NA|Yes             |          3|          52|NA       |No       |Non-Smoker |       NA|Yes       |            13|No           |          NA|No        |Yes     |     13|              20|              0|Yes     |Bisexual       |NA          |\n|10 | 51647|2009_10  |female |  45|40-49     |       541|White   |NA    |College Grad |Married       |75000-99999 |       87500|    5.00|         6|Own     |Working    |   75.7|     NA|       NA|  166.7| 27.24|NA               |25.0_to_29.9 |    62|      118|       64|    106|     62|    118|     68|    118|     60|           NA|       2.12|    5.82|       106|      1.116|        NA|         NA|No       |          NA|Vgood     |               0|               3|None           |None      |            1|      NA|         NA|             8|No           |Yes        |              5|NA       |NA         |            NA|              NA|Yes             |          3|          52|NA       |No       |Non-Smoker |       NA|Yes       |            13|No           |          NA|No        |Yes     |     13|              20|              0|Yes     |Bisexual       |NA          |\n|14 | 51659|2009_10  |female |  10|10-19     |       123|White   |NA    |NA           |NA            |NA          |          NA|      NA|        10|Own     |NA         |   38.6|     NA|       NA|  141.8| 19.20|NA               |18.5_to_24.9 |    80|      104|       68|    102|     66|    102|     66|    106|     70|           NA|         NA|      NA|         7|      0.046|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             4|               3|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n|15 | 51666|2009_10  |female |  58|50-59     |       700|Mexican |NA    |High School  |Married       |75000-99999 |       87500|    2.03|        10|Rent    |Looking    |   57.5|     NA|       NA|  148.1| 26.22|NA               |25.0_to_29.9 |    94|      127|       83|     NA|     NA|    134|     82|    120|     84|           NA|       1.14|    4.78|        29|      0.299|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|             5|No           |Yes        |              2|NA       |NA         |            NA|              NA|NA              |         NA|          NA|Yes      |Yes      |Smoker     |       17|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n|17 | 51671|2009_10  |female |   9|0-9       |       112|Black   |NA    |NA           |NA            |NA          |          NA|      NA|         3|Rent    |NA         |   53.1|     NA|       NA|  139.2| 27.40|NA               |25.0_to_29.9 |    92|       93|       63|     86|     56|     90|     64|     96|     62|           NA|       1.22|    4.86|       156|      0.975|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             0|               1|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n\n</div>\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[df$Gender=='male' & df$BPDiaAve>=80,]\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|   |    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1 |Race3 |Education      |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO      | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n  | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|:--|-----:|:--------|:------|---:|:---------|---------:|:-----|:-----|:--------------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:------------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:----------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n|1  | 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School    |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus    |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker     |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n|2  | 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School    |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus    |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker     |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n|3  | 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School    |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus    |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker     |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n|NA |    NA|NA       |NA     |  NA|NA        |        NA|NA    |NA    |NA             |NA            |NA          |          NA|      NA|        NA|NA      |NA         |     NA|     NA|       NA|     NA|    NA|NA               |NA           |    NA|       NA|       NA|     NA|     NA|     NA|     NA|     NA|     NA|           NA|         NA|      NA|        NA|         NA|        NA|         NA|NA       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |            NA|              NA|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n|13 | 51657|2009_10  |male   |  54|50-59     |       654|White |NA    |9 - 11th Grade |Married       |65000-74999 |       70000|    2.20|         6|Rent    |Working    |   74.7|     NA|       NA|  169.4| 26.03|NA               |25.0_to_29.9 |    76|      134|       85|    136|     86|    132|     88|    136|     82|           NA|       1.16|    6.41|       215|      0.903|        NA|         NA|No       |          NA|Fair      |               4|               0|None           |None      |           NA|      NA|         NA|             4|Yes          |Yes        |              1|NA       |NA         |            NA|              NA|Yes             |          6|         364|NA       |No       |Non-Smoker |       NA|Yes       |            15|Yes          |          15|Yes       |Yes     |     12|             100|              1|No      |Heterosexual   |NA          |\n|19 | 51678|2009_10  |male   |  60|60-69     |       721|White |NA    |High School    |Married       |15000-19999 |       17500|    1.03|         5|Own     |Working    |   74.6|     NA|       NA|  169.9| 25.84|NA               |25.0_to_29.9 |    84|      152|      100|    154|     98|    150|     98|    154|    102|           NA|       1.34|    6.39|       238|         NA|        NA|         NA|No       |          NA|Vgood     |               7|               0|None           |None      |           NA|      NA|         NA|             6|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          6|          36|No       |Yes      |Smoker     |       16|NA        |            NA|NA           |          NA|No        |Yes     |     20|               1|             NA|No      |NA             |NA          |\n\n</div>\n:::\n:::\n\n\n`[]`안에서 논리 연산자를 통해 특정 column의 조건을 만족하는 행들을 선택할 수 있습니다.\n\n------------------------------------------------------------------------\n\n# 함수\n\nR에는 수많은 함수들이 존재합니다. 수치를 계산하는 함수부터 데이터를 파악하는 함수까지 그 수를 헤아릴 수 없습니다.\n\n이번 장에서는 R을 사용하면서 반드시 알아야 하거나 알아두면 편리한 함수들에 대해 알아보겠습니다.\n\n## 요약 함수\n\nR에서는 다양한 숫자 데이터를 특정한 값으로 요약할 수 있습니다. 이 글에서는 다음과 같은 함수들을 요약함수로 지칭하겠습니다. 대표적인 요약 함수로는 `mean()`평균, `sd()`표준편차, `min()`최소값, `max()`최대값, `median()`중앙값, `sum()`합계, `quantile()` 4분위수 등이 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(df$Age) # 평균\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 36.05\n```\n:::\n\n```{.r .cell-code}\nsd(df$Age) # 표준편차\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 20.182\n```\n:::\n\n```{.r .cell-code}\nmin(df$Age) # 최소\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n\n```{.r .cell-code}\nmax(df$Age) # 최대\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 66\n```\n:::\n\n```{.r .cell-code}\nmedian(df$Age)  # 중앙값\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 39.5\n```\n:::\n\n```{.r .cell-code}\nquantile(df$Age) # 4분위수\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  0%  25%  50%  75% 100% \n 4.0 14.5 39.5 51.0 66.0 \n```\n:::\n:::\n\n\n만약 numeric 데이터에 결측치(`NA`)가 있다면 요약함수를 실행했을 때, `NA`가 출력됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(df$BMI) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 25.682\n```\n:::\n:::\n\n\n따라서 데이터 내에 `NA`가 있는 경우는 요약함수 안에 `na.rm=T`를 넣어줘야 합니다. `NA`를 제외한 나머지 데이터로 요약한 값이 출력됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmean(df$BMI, na.rm=T) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 25.682\n```\n:::\n:::\n\n\n한편, 숫자형 데이터 이외에, character, factor 등 범주형 데이터의 경우 각 범주의 응답 분포를 확인할 수 있습니다. `table()` 함수를 통해 이를 파악할 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable(df$Gender)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nfemale   male \n     7     13 \n```\n:::\n:::\n\n\n응답 분포를 확률로 표현할 수 있는 함수는 `prop.table()` 입니다. 이 때, `prop.table()` 에 넣어줄 인자는 `table()`에 범주를 확인하고자 하는 변수를 넣은 값입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprop.table(table(df$Gender))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nfemale   male \n  0.35   0.65 \n```\n:::\n\n```{.r .cell-code}\nprop.table(table(df$Gender))*100 # percent 위해 100 곱하기\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nfemale   male \n    35     65 \n```\n:::\n:::\n\n\n## data.frame 관련 함수\n\n다음으로 데이터프레임과 관련된 함수를 알아보겠습니다. 사실 이 함수들은 `data.frame`뿐만 아니라 `vector`나 다른 구조의 데이터들과도 사용되는 함수입니다.\n\n다만 앞으로 우리가 다룰 데이터 구조의 대부분이 `data.frame`이고, `data.frame`을 활용해 데이터를 분석할 때 그 활용도가 높기 때문에 편의상`data.frame` 관련 함수라고 지칭하겠습니다.\n\n### 데이터 불러오기/저장하기\n\n`read.csv()` 를 통해 외부 csv 파일을 작업환경으로 불러올 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf2 <- read.csv('데이터명.csv')\n```\n:::\n\n\n반면 작업환경에서 분석하던 `data.frame`을 외부 csv 파일로 저장할 수 있습니다. `write.csv()` 함수를 통해 가능합니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwrite.csv(df2,'~/temp.csv') #작업저장경로+파일이름\n```\n:::\n\n\n### 데이터 훑어보기\n\n일반적으로 데이터를 분석하기 전, 데이터의 특징을 파악하는 것이 필요합니다. 데이터의 특징을 파악하는 함수들은 `head()`,`tail()`, `str()`, `summary()`등이 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(df) # 데이터의 첫 6행을 확인\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1 |Race3 |Education    |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO   | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|-----:|:--------|:------|---:|:---------|---------:|:-----|:-----|:------------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:---------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:---------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker    |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker    |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n| 51624|2009_10  |male   |  34|30-39     |       409|White |NA    |High School  |Married       |25000-34999 |       30000|    1.36|         6|Own     |NotWorking |   87.4|     NA|       NA|  164.7| 32.22|NA               |30.0_plus |    70|      113|       85|    114|     88|    114|     88|    112|     82|           NA|       1.29|    3.49|       352|         NA|        NA|         NA|No       |          NA|Good      |               0|              15|Most           |Several   |           NA|      NA|         NA|             4|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |         NA|           0|No       |Yes      |Smoker    |       18|Yes       |            17|No           |          NA|Yes       |Yes     |     16|               8|              1|No      |Heterosexual   |NA          |\n| 51625|2009_10  |male   |   4|0-9       |        49|Other |NA    |NA           |NA            |20000-24999 |       22500|    1.07|         9|Own     |NA         |   17.0|     NA|       NA|  105.4| 15.30|NA               |12.0_18.5 |    NA|       NA|       NA|     NA|     NA|     NA|     NA|     NA|     NA|           NA|         NA|      NA|        NA|         NA|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             4|               1|NA              |         NA|          NA|NA       |NA       |NA        |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n| 51630|2009_10  |female |  49|40-49     |       596|White |NA    |Some College |LivePartner   |35000-44999 |       40000|    1.91|         5|Rent    |NotWorking |   86.7|     NA|       NA|  168.4| 30.57|NA               |30.0_plus |    86|      112|       75|    118|     82|    108|     74|    116|     76|           NA|       1.16|    6.70|        77|      0.094|        NA|         NA|No       |          NA|Good      |               0|              10|Several        |Several   |            2|       2|         27|             8|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          2|          20|Yes      |Yes      |Smoker    |       38|Yes       |            18|No           |          NA|Yes       |Yes     |     12|              10|              1|Yes     |Heterosexual   |NA          |\n| 51638|2009_10  |male   |   9|0-9       |       115|White |NA    |NA           |NA            |75000-99999 |       87500|    1.84|         6|Rent    |NA         |   29.8|     NA|       NA|  133.1| 16.82|NA               |12.0_18.5 |    82|       86|       47|     84|     50|     84|     50|     88|     44|           NA|       1.34|    4.86|       123|      1.538|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             5|               0|NA              |         NA|          NA|NA       |NA       |NA        |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n\n</div>\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntail(df) # 데이터의 마지막 6행을 확인\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n|   |    ID|SurveyYr |Gender | Age|AgeDecade | AgeMonths|Race1   |Race3 |Education    |MaritalStatus |HHIncome    | HHIncomeMid| Poverty| HomeRooms|HomeOwn |Work       | Weight| Length| HeadCirc| Height|   BMI|BMICatUnder20yrs |BMI_WHO      | Pulse| BPSysAve| BPDiaAve| BPSys1| BPDia1| BPSys2| BPDia2| BPSys3| BPDia3| Testosterone| DirectChol| TotChol| UrineVol1| UrineFlow1| UrineVol2| UrineFlow2|Diabetes | DiabetesAge|HealthGen | DaysPhysHlthBad| DaysMentHlthBad|LittleInterest |Depressed | nPregnancies| nBabies| Age1stBaby| SleepHrsNight|SleepTrouble |PhysActive | PhysActiveDays|TVHrsDay |CompHrsDay | TVHrsDayChild| CompHrsDayChild|Alcohol12PlusYr | AlcoholDay| AlcoholYear|SmokeNow |Smoke100 |Smoke100n  | SmokeAge|Marijuana | AgeFirstMarij|RegularMarij | AgeRegMarij|HardDrugs |SexEver | SexAge| SexNumPartnLife| SexNumPartYear|SameSex |SexOrientation |PregnantNow |\n|:--|-----:|:--------|:------|---:|:---------|---------:|:-------|:-----|:------------|:-------------|:-----------|-----------:|-------:|---------:|:-------|:----------|------:|------:|--------:|------:|-----:|:----------------|:------------|-----:|--------:|--------:|------:|------:|------:|------:|------:|------:|------------:|----------:|-------:|---------:|----------:|---------:|----------:|:--------|-----------:|:---------|---------------:|---------------:|:--------------|:---------|------------:|-------:|----------:|-------------:|:------------|:----------|--------------:|:--------|:----------|-------------:|---------------:|:---------------|----------:|-----------:|:--------|:--------|:----------|--------:|:---------|-------------:|:------------|-----------:|:---------|:-------|------:|---------------:|--------------:|:-------|:--------------|:-----------|\n|15 | 51666|2009_10  |female |  58|50-59     |       700|Mexican |NA    |High School  |Married       |75000-99999 |       87500|    2.03|        10|Rent    |Looking    |   57.5|     NA|       NA|  148.1| 26.22|NA               |25.0_to_29.9 |    94|      127|       83|     NA|     NA|    134|     82|    120|     84|           NA|       1.14|    4.78|        29|      0.299|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|             5|No           |Yes        |              2|NA       |NA         |            NA|              NA|NA              |         NA|          NA|Yes      |Yes      |Smoker     |       17|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n|16 | 51667|2009_10  |male   |  50|50-59     |       603|White   |NA    |Some College |NeverMarried  |15000-19999 |       17500|    1.24|         4|Rent    |Looking    |   84.1|     NA|       NA|  177.8| 26.60|NA               |25.0_to_29.9 |    74|      142|       68|    138|     66|    142|     74|    142|     62|           NA|       1.06|    5.22|        64|      0.190|        NA|         NA|No       |          NA|Good      |               0|               0|None           |None      |           NA|      NA|         NA|             7|No           |Yes        |              7|NA       |NA         |            NA|              NA|No              |         NA|           0|NA       |No       |Non-Smoker |       NA|No        |            NA|No           |          NA|No        |Yes     |     NA|               9|              1|No      |Heterosexual   |NA          |\n|17 | 51671|2009_10  |female |   9|0-9       |       112|Black   |NA    |NA           |NA            |NA          |          NA|      NA|         3|Rent    |NA         |   53.1|     NA|       NA|  139.2| 27.40|NA               |25.0_to_29.9 |    92|       93|       63|     86|     56|     90|     64|     96|     62|           NA|       1.22|    4.86|       156|      0.975|        NA|         NA|No       |          NA|NA        |              NA|              NA|NA             |NA        |           NA|      NA|         NA|            NA|NA           |NA         |             NA|NA       |NA         |             0|               1|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n|18 | 51677|2009_10  |male   |  33|30-39     |       404|White   |NA    |High School  |Married       |25000-34999 |       30000|    1.27|        11|Own     |Working    |   93.8|     NA|       NA|  181.3| 28.54|NA               |25.0_to_29.9 |    96|      128|       74|    126|     80|    128|     74|     NA|     NA|           NA|       0.91|    5.59|       155|      0.574|        NA|         NA|No       |          NA|Fair      |               3|               7|Several        |None      |           NA|      NA|         NA|             6|No           |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          3|         104|No       |Yes      |Smoker     |       NA|No        |            NA|No           |          NA|No        |Yes     |     27|               1|              1|No      |Heterosexual   |NA          |\n|19 | 51678|2009_10  |male   |  60|60-69     |       721|White   |NA    |High School  |Married       |15000-19999 |       17500|    1.03|         5|Own     |Working    |   74.6|     NA|       NA|  169.9| 25.84|NA               |25.0_to_29.9 |    84|      152|      100|    154|     98|    150|     98|    154|    102|           NA|       1.34|    6.39|       238|         NA|        NA|         NA|No       |          NA|Vgood     |               7|               0|None           |None      |           NA|      NA|         NA|             6|Yes          |No         |             NA|NA       |NA         |            NA|              NA|Yes             |          6|          36|No       |Yes      |Smoker     |       16|NA        |            NA|NA           |          NA|No        |Yes     |     20|               1|             NA|No      |NA             |NA          |\n|20 | 51679|2009_10  |male   |  16|10-19     |       194|Other   |NA    |NA           |NA            |NA          |          NA|      NA|         7|Own     |NotWorking |   73.2|     NA|       NA|  172.0| 24.74|NA               |18.5_to_24.9 |    76|      126|       72|    132|     74|    126|     68|    126|     76|           NA|       1.14|    3.00|       345|      1.742|        NA|         NA|No       |          NA|Fair      |               0|              20|NA             |NA        |           NA|      NA|         NA|             6|No           |Yes        |              3|NA       |NA         |            NA|              NA|NA              |         NA|          NA|NA       |NA       |NA         |       NA|NA        |            NA|NA           |          NA|NA        |NA      |     NA|              NA|             NA|NA      |NA             |NA          |\n\n</div>\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(df) # 데이터의 구조 확인\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n'data.frame':\t20 obs. of  76 variables:\n $ ID              : int  51624 51624 51624 51625 51630 51638 51646 51647 51647 51647 ...\n $ SurveyYr        : Factor w/ 2 levels \"2009_10\",\"2011_12\": 1 1 1 1 1 1 1 1 1 1 ...\n $ Gender          : Factor w/ 2 levels \"female\",\"male\": 2 2 2 2 1 2 2 1 1 1 ...\n $ Age             : int  34 34 34 4 49 9 8 45 45 45 ...\n $ AgeDecade       : Factor w/ 8 levels \" 0-9\",\" 10-19\",..: 4 4 4 1 5 1 1 5 5 5 ...\n $ AgeMonths       : int  409 409 409 49 596 115 101 541 541 541 ...\n $ Race1           : Factor w/ 5 levels \"Black\",\"Hispanic\",..: 4 4 4 5 4 4 4 4 4 4 ...\n $ Race3           : Factor w/ 6 levels \"Asian\",\"Black\",..: NA NA NA NA NA NA NA NA NA NA ...\n $ Education       : Factor w/ 5 levels \"8th Grade\",\"9 - 11th Grade\",..: 3 3 3 NA 4 NA NA 5 5 5 ...\n $ MaritalStatus   : Factor w/ 6 levels \"Divorced\",\"LivePartner\",..: 3 3 3 NA 2 NA NA 3 3 3 ...\n $ HHIncome        : Factor w/ 12 levels \" 0-4999\",\" 5000-9999\",..: 6 6 6 5 7 11 9 11 11 11 ...\n $ HHIncomeMid     : int  30000 30000 30000 22500 40000 87500 60000 87500 87500 87500 ...\n $ Poverty         : num  1.36 1.36 1.36 1.07 1.91 1.84 2.33 5 5 5 ...\n $ HomeRooms       : int  6 6 6 9 5 6 7 6 6 6 ...\n $ HomeOwn         : Factor w/ 3 levels \"Own\",\"Rent\",\"Other\": 1 1 1 1 2 2 1 1 1 1 ...\n $ Work            : Factor w/ 3 levels \"Looking\",\"NotWorking\",..: 2 2 2 NA 2 NA NA 3 3 3 ...\n $ Weight          : num  87.4 87.4 87.4 17 86.7 29.8 35.2 75.7 75.7 75.7 ...\n $ Length          : num  NA NA NA NA NA NA NA NA NA NA ...\n $ HeadCirc        : num  NA NA NA NA NA NA NA NA NA NA ...\n $ Height          : num  165 165 165 105 168 ...\n $ BMI             : num  32.2 32.2 32.2 15.3 30.6 ...\n $ BMICatUnder20yrs: Factor w/ 4 levels \"UnderWeight\",..: NA NA NA NA NA NA NA NA NA NA ...\n $ BMI_WHO         : Factor w/ 4 levels \"12.0_18.5\",\"18.5_to_24.9\",..: 4 4 4 1 4 1 2 3 3 3 ...\n $ Pulse           : int  70 70 70 NA 86 82 72 62 62 62 ...\n $ BPSysAve        : int  113 113 113 NA 112 86 107 118 118 118 ...\n $ BPDiaAve        : int  85 85 85 NA 75 47 37 64 64 64 ...\n $ BPSys1          : int  114 114 114 NA 118 84 114 106 106 106 ...\n $ BPDia1          : int  88 88 88 NA 82 50 46 62 62 62 ...\n $ BPSys2          : int  114 114 114 NA 108 84 108 118 118 118 ...\n $ BPDia2          : int  88 88 88 NA 74 50 36 68 68 68 ...\n $ BPSys3          : int  112 112 112 NA 116 88 106 118 118 118 ...\n $ BPDia3          : int  82 82 82 NA 76 44 38 60 60 60 ...\n $ Testosterone    : num  NA NA NA NA NA NA NA NA NA NA ...\n $ DirectChol      : num  1.29 1.29 1.29 NA 1.16 1.34 1.55 2.12 2.12 2.12 ...\n $ TotChol         : num  3.49 3.49 3.49 NA 6.7 4.86 4.09 5.82 5.82 5.82 ...\n $ UrineVol1       : int  352 352 352 NA 77 123 238 106 106 106 ...\n $ UrineFlow1      : num  NA NA NA NA 0.094 ...\n $ UrineVol2       : int  NA NA NA NA NA NA NA NA NA NA ...\n $ UrineFlow2      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ Diabetes        : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 1 1 1 1 1 1 1 ...\n $ DiabetesAge     : int  NA NA NA NA NA NA NA NA NA NA ...\n $ HealthGen       : Factor w/ 5 levels \"Excellent\",\"Vgood\",..: 3 3 3 NA 3 NA NA 2 2 2 ...\n $ DaysPhysHlthBad : int  0 0 0 NA 0 NA NA 0 0 0 ...\n $ DaysMentHlthBad : int  15 15 15 NA 10 NA NA 3 3 3 ...\n $ LittleInterest  : Factor w/ 3 levels \"None\",\"Several\",..: 3 3 3 NA 2 NA NA 1 1 1 ...\n $ Depressed       : Factor w/ 3 levels \"None\",\"Several\",..: 2 2 2 NA 2 NA NA 1 1 1 ...\n $ nPregnancies    : int  NA NA NA NA 2 NA NA 1 1 1 ...\n $ nBabies         : int  NA NA NA NA 2 NA NA NA NA NA ...\n $ Age1stBaby      : int  NA NA NA NA 27 NA NA NA NA NA ...\n $ SleepHrsNight   : int  4 4 4 NA 8 NA NA 8 8 8 ...\n $ SleepTrouble    : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 NA 2 NA NA 1 1 1 ...\n $ PhysActive      : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 NA 1 NA NA 2 2 2 ...\n $ PhysActiveDays  : int  NA NA NA NA NA NA NA 5 5 5 ...\n $ TVHrsDay        : Factor w/ 7 levels \"0_hrs\",\"0_to_1_hr\",..: NA NA NA NA NA NA NA NA NA NA ...\n $ CompHrsDay      : Factor w/ 7 levels \"0_hrs\",\"0_to_1_hr\",..: NA NA NA NA NA NA NA NA NA NA ...\n $ TVHrsDayChild   : int  NA NA NA 4 NA 5 1 NA NA NA ...\n $ CompHrsDayChild : int  NA NA NA 1 NA 0 6 NA NA NA ...\n $ Alcohol12PlusYr : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 NA 2 NA NA 2 2 2 ...\n $ AlcoholDay      : int  NA NA NA NA 2 NA NA 3 3 3 ...\n $ AlcoholYear     : int  0 0 0 NA 20 NA NA 52 52 52 ...\n $ SmokeNow        : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 NA 2 NA NA NA NA NA ...\n $ Smoke100        : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 NA 2 NA NA 1 1 1 ...\n $ Smoke100n       : Factor w/ 2 levels \"Non-Smoker\",\"Smoker\": 2 2 2 NA 2 NA NA 1 1 1 ...\n $ SmokeAge        : int  18 18 18 NA 38 NA NA NA NA NA ...\n $ Marijuana       : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 NA 2 NA NA 2 2 2 ...\n $ AgeFirstMarij   : int  17 17 17 NA 18 NA NA 13 13 13 ...\n $ RegularMarij    : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 NA 1 NA NA 1 1 1 ...\n $ AgeRegMarij     : int  NA NA NA NA NA NA NA NA NA NA ...\n $ HardDrugs       : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 NA 2 NA NA 1 1 1 ...\n $ SexEver         : Factor w/ 2 levels \"No\",\"Yes\": 2 2 2 NA 2 NA NA 2 2 2 ...\n $ SexAge          : int  16 16 16 NA 12 NA NA 13 13 13 ...\n $ SexNumPartnLife : int  8 8 8 NA 10 NA NA 20 20 20 ...\n $ SexNumPartYear  : int  1 1 1 NA 1 NA NA 0 0 0 ...\n $ SameSex         : Factor w/ 2 levels \"No\",\"Yes\": 1 1 1 NA 2 NA NA 2 2 2 ...\n $ SexOrientation  : Factor w/ 3 levels \"Bisexual\",\"Heterosexual\",..: 2 2 2 NA 2 NA NA 1 1 1 ...\n $ PregnantNow     : Factor w/ 3 levels \"Yes\",\"No\",\"Unknown\": NA NA NA NA NA NA NA NA NA NA ...\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df) # 데이터의 column 요약통계량\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n       ID           SurveyYr     Gender        Age          AgeDecade\n Min.   :51624   2009_10:20   female: 7   Min.   : 4.00    0-9   :4  \n 1st Qu.:51636   2011_12: 0   male  :13   1st Qu.:14.50    30-39 :4  \n Median :51650                            Median :39.50    40-49 :4  \n Mean   :51651                            Mean   :36.05    50-59 :4  \n 3rd Qu.:51666                            3rd Qu.:51.00    10-19 :2  \n Max.   :51679                            Max.   :66.00    60-69 :2  \n                                                          (Other):0  \n   AgeMonths          Race1         Race3             Education\n Min.   : 49.0   Black   : 1   Asian   : 0   8th Grade     :0  \n 1st Qu.:176.2   Hispanic: 0   Black   : 0   9 - 11th Grade:1  \n Median :475.0   Mexican : 1   Hispanic: 0   High School   :6  \n Mean   :436.2   White   :16   Mexican : 0   Some College  :3  \n 3rd Qu.:615.8   Other   : 2   White   : 0   College Grad  :4  \n Max.   :795.0                 Other   : 0   NA's          :6  \n                               NA's    :20                     \n      MaritalStatus        HHIncome  HHIncomeMid        Poverty     \n Divorced    : 1    25000-34999:5   Min.   : 17500   Min.   :1.030  \n LivePartner : 1    75000-99999:5   1st Qu.: 30000   1st Qu.:1.360  \n Married     :11    15000-19999:2   Median : 40000   Median :1.910  \n NeverMarried: 1    20000-24999:1   Mean   : 53824   Mean   :2.424  \n Separated   : 0    35000-44999:1   3rd Qu.: 87500   3rd Qu.:2.330  \n Widowed     : 0    (Other)    :3   Max.   :100000   Max.   :5.000  \n NA's        : 6    NA's       :3   NA's   :3        NA's   :3      \n   HomeRooms      HomeOwn           Work       Weight          Length   \n Min.   : 3.00   Own  :13   Looking   :2   Min.   :17.00   Min.   : NA  \n 1st Qu.: 5.75   Rent : 7   NotWorking:6   1st Qu.:56.40   1st Qu.: NA  \n Median : 6.00   Other: 0   Working   :7   Median :75.20   Median : NA  \n Mean   : 6.70              NA's      :5   Mean   :67.70   Mean   :NaN  \n 3rd Qu.: 7.50                             3rd Qu.:84.75   3rd Qu.: NA  \n Max.   :11.00                             Max.   :93.80   Max.   : NA  \n                                                           NA's   :20   \n    HeadCirc       Height           BMI           BMICatUnder20yrs\n Min.   : NA   Min.   :105.4   Min.   :15.30   UnderWeight: 0     \n 1st Qu.: NA   1st Qu.:146.5   1st Qu.:23.68   NormWeight : 0     \n Median : NA   Median :166.7   Median :26.41   OverWeight : 0     \n Mean   :NaN   Mean   :159.1   Mean   :25.68   Obese      : 0     \n 3rd Qu.: NA   3rd Qu.:169.6   3rd Qu.:27.68   NA's       :20     \n Max.   : NA   Max.   :181.9   Max.   :32.22                      \n NA's   :20                                                       \n         BMI_WHO      Pulse          BPSysAve        BPDiaAve     \n 12.0_18.5   :2   Min.   :60.00   Min.   : 86.0   Min.   : 37.00  \n 18.5_to_24.9:5   1st Qu.:66.00   1st Qu.:109.0   1st Qu.: 64.00  \n 25.0_to_29.9:9   Median :74.00   Median :113.0   Median : 72.00  \n 30.0_plus   :4   Mean   :75.26   Mean   :116.8   Mean   : 71.37  \n                  3rd Qu.:83.00   3rd Qu.:126.5   3rd Qu.: 84.00  \n                  Max.   :96.00   Max.   :152.0   Max.   :100.00  \n                  NA's   :1       NA's   :1       NA's   :1       \n     BPSys1          BPDia1          BPSys2          BPDia2     \n Min.   : 84.0   Min.   :46.00   Min.   : 84.0   Min.   :36.00  \n 1st Qu.:106.0   1st Qu.:62.00   1st Qu.:108.0   1st Qu.:67.00  \n Median :114.0   Median :70.00   Median :114.0   Median :72.00  \n Mean   :115.7   Mean   :71.89   Mean   :116.4   Mean   :72.42  \n 3rd Qu.:125.5   3rd Qu.:85.00   3rd Qu.:127.0   3rd Qu.:85.00  \n Max.   :154.0   Max.   :98.00   Max.   :150.0   Max.   :98.00  \n NA's   :2       NA's   :2       NA's   :1       NA's   :1      \n     BPSys3          BPDia3        Testosterone   DirectChol       TotChol     \n Min.   : 88.0   Min.   : 38.00   Min.   : NA   Min.   :0.670   Min.   :3.000  \n 1st Qu.:107.5   1st Qu.: 60.50   1st Qu.: NA   1st Qu.:1.140   1st Qu.:4.128  \n Median :115.0   Median : 73.00   Median : NA   Median :1.255   Median :4.925  \n Mean   :116.6   Mean   : 70.11   Mean   :NaN   Mean   :1.327   Mean   :4.948  \n 3rd Qu.:119.5   3rd Qu.: 82.00   3rd Qu.: NA   3rd Qu.:1.340   3rd Qu.:5.820  \n Max.   :154.0   Max.   :102.00   Max.   : NA   Max.   :2.120   Max.   :6.700  \n NA's   :2       NA's   :2        NA's   :20    NA's   :2       NA's   :2      \n   UrineVol1       UrineFlow1       UrineVol2     UrineFlow2  Diabetes\n Min.   :  7.0   Min.   :0.0460   Min.   : NA   Min.   : NA   No :20  \n 1st Qu.:106.0   1st Qu.:0.3465   1st Qu.: NA   1st Qu.: NA   Yes: 0  \n Median :155.0   Median :0.9390   Median : NA   Median : NA           \n Mean   :173.5   Mean   :0.8229   Mean   :NaN   Mean   :NaN           \n 3rd Qu.:238.0   3rd Qu.:1.1160   3rd Qu.: NA   3rd Qu.: NA           \n Max.   :352.0   Max.   :1.7420   Max.   : NA   Max.   : NA           \n NA's   :1       NA's   :6        NA's   :20    NA's   :20            \n  DiabetesAge      HealthGen DaysPhysHlthBad  DaysMentHlthBad LittleInterest\n Min.   : NA   Excellent:0   Min.   : 0.000   Min.   : 0.00   None   :8     \n 1st Qu.: NA   Vgood    :6   1st Qu.: 0.000   1st Qu.: 0.00   Several:2     \n Median : NA   Good     :5   Median : 0.000   Median : 3.00   Most   :3     \n Mean   :NaN   Fair     :3   Mean   : 1.714   Mean   : 6.50   NA's   :7     \n 3rd Qu.: NA   Poor     :0   3rd Qu.: 2.250   3rd Qu.:13.75                 \n Max.   : NA   NA's     :6   Max.   :10.000   Max.   :20.00                 \n NA's   :20                  NA's   :6        NA's   :6                     \n   Depressed  nPregnancies     nBabies     Age1stBaby SleepHrsNight\n None   :9   Min.   :1.00   Min.   :2    Min.   :27   Min.   :4.0  \n Several:4   1st Qu.:1.00   1st Qu.:2    1st Qu.:27   1st Qu.:4.5  \n Most   :0   Median :1.00   Median :2    Median :27   Median :6.0  \n NA's   :7   Mean   :1.25   Mean   :2    Mean   :27   Mean   :6.0  \n             3rd Qu.:1.25   3rd Qu.:2    3rd Qu.:27   3rd Qu.:7.5  \n             Max.   :2.00   Max.   :2    Max.   :27   Max.   :8.0  \n             NA's   :16     NA's   :19   NA's   :19   NA's   :5    \n SleepTrouble PhysActive PhysActiveDays       TVHrsDay      CompHrsDay\n No  :9       No  :6     Min.   :1.000   0_hrs    : 0   0_hrs    : 0  \n Yes :6       Yes :9     1st Qu.:3.000   0_to_1_hr: 0   0_to_1_hr: 0  \n NA's:5       NA's:5     Median :5.000   1_hr     : 0   1_hr     : 0  \n                         Mean   :4.444   2_hr     : 0   2_hr     : 0  \n                         3rd Qu.:5.000   3_hr     : 0   3_hr     : 0  \n                         Max.   :7.000   (Other)  : 0   (Other)  : 0  \n                         NA's   :11      NA's     :20   NA's     :20  \n TVHrsDayChild CompHrsDayChild Alcohol12PlusYr   AlcoholDay     AlcoholYear \n Min.   :0.0   Min.   :0.0     No  : 1         Min.   :1.000   Min.   :  0  \n 1st Qu.:1.0   1st Qu.:1.0     Yes :12         1st Qu.:2.000   1st Qu.:  0  \n Median :4.0   Median :1.0     NA's: 7         Median :3.000   Median : 52  \n Mean   :2.8   Mean   :2.2                     Mean   :3.222   Mean   : 68  \n 3rd Qu.:4.0   3rd Qu.:3.0                     3rd Qu.:3.000   3rd Qu.:100  \n Max.   :5.0   Max.   :6.0                     Max.   :6.000   Max.   :364  \n NA's   :15    NA's   :15                      NA's   :11      NA's   :7    \n SmokeNow  Smoke100      Smoke100n    SmokeAge     Marijuana AgeFirstMarij  \n No  : 6   No  :6   Non-Smoker:6   Min.   :13.00   No  :2    Min.   :13.00  \n Yes : 2   Yes :8   Smoker    :8   1st Qu.:16.50   Yes :9    1st Qu.:13.00  \n NA's:12   NA's:6   NA's      :6   Median :18.00   NA's:9    Median :17.00  \n                                   Mean   :19.71             Mean   :15.78  \n                                   3rd Qu.:18.00             3rd Qu.:17.00  \n                                   Max.   :38.00             Max.   :19.00  \n                                   NA's   :13                NA's   :11     \n RegularMarij  AgeRegMarij    HardDrugs SexEver       SexAge     \n No  :9       Min.   :15.00   No  :7    No  : 0   Min.   :12.00  \n Yes :2       1st Qu.:16.25   Yes :6    Yes :13   1st Qu.:13.00  \n NA's:9       Median :17.50   NA's:7    NA's: 7   Median :16.00  \n              Mean   :17.50                       Mean   :16.42  \n              3rd Qu.:18.75                       3rd Qu.:17.75  \n              Max.   :20.00                       Max.   :27.00  \n              NA's   :18                          NA's   :8      \n SexNumPartnLife  SexNumPartYear   SameSex       SexOrientation  PregnantNow\n Min.   :  1.00   Min.   :0.0000   No  :9   Bisexual    :3      Yes    : 0  \n 1st Qu.:  8.00   1st Qu.:0.5000   Yes :4   Heterosexual:8      No     : 0  \n Median :  9.00   Median :1.0000   NA's:7   Homosexual  :0      Unknown: 0  \n Mean   : 17.46   Mean   :0.7273            NA's        :9      NA's   :20  \n 3rd Qu.: 20.00   3rd Qu.:1.0000                                            \n Max.   :100.00   Max.   :1.0000                                            \n NA's   :7        NA's   :9                                                 \n```\n:::\n:::\n\n\n### 행과 열의 수 확인\n\n다음으로 데이터의 행과 열의 개수를 확인하는 함수들입니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(df) # 행의 개수\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 20\n```\n:::\n\n```{.r .cell-code}\nncol(df) # 열의 개수\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 76\n```\n:::\n\n```{.r .cell-code}\ndim(df) # 데이터의 행과 열의 수 확인\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 20 76\n```\n:::\n:::\n\n\n::: callout-tip\n기존에 선언했던 object 와 동일한 이름으로 새로운 데이터를 저장하게 되면, 기존에 저장되어 있던 값은 사라지게 됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntemp <- data.frame(id=c(1,2,3),name=c('a','b','c'));\ntemp <- data.frame(id=c(10,20,30),name=c('A','B','C'))\n```\n:::\n\n\n따라서 object의 이름을 설정할 때는 헷갈리지 않게끔 다른 이름으로 지어주는 것이 필요합니다.\n:::\n\n## 논리 함수\n\n논리 함수는 논리 연산자처럼 `TRUE` 나 `FALSE`를 반환하는 함수입니다.\n\n-   `is.na()` : `NA`가 있는지 확인하는 함수입니다. `NA`가 있는 경우 `TRUE`를, 그렇지 않은 경우를 `FALSE`로 반환합니다.\n\n    `is.na()`는 모든 행에 대해 결과를 반환하므로, 보통 `table()` 함수처럼 응답을 요약하여 해당 변수에 몇 개의 결측치가 있는지 확인하기 위해 사용하는 것이 일반적입니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    table(is.na(df$BMI))\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    \n    FALSE \n       20 \n    ```\n    :::\n    :::\n\n\n-   `is.numeric()`, `is.factor()`, `is.character()`: 특정 column의 데이터 유형을 확인하는 함수입니다. 해당 유형이 맞다면 `TRUE`, 아니면 `FALSE`를 반환합니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    is.numeric(15)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    is.factor('dd')\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] FALSE\n    ```\n    :::\n    \n    ```{.r .cell-code}\n    is.character('dexmedetomidine')\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    [1] TRUE\n    ```\n    :::\n    :::\n\n\n-   `ifelse()` 함수는 data.frame에서 가장 많이 쓰이는 함수 중 하나입니다. 그렇기 때문에 매우 중요하고, 반드시 알고 넘어가야 하는 함수입니다.\n\n    `ifelse()`의 구조는 다음과 같습니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    # ifelse(조건, \n    #        '조건이 참일 때 사용할 값', \n    #        '조건이 거짓일 때 사용할 값')\n    ```\n    :::\n\n\n    `ifelse()`는 주로 새로운 column을 생성할 때, 또는 기존의 column을 변경할 때 많이 사용됩니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df$Obesity <- ifelse(df$BMI>=25,1,0)\n    table(df$Obesity)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n    \n     0  1 \n     7 13 \n    ```\n    :::\n    :::\n\n\n    위의 코드에서 `df$BMI>=25`가 조건절에 해당됩니다. `1`은 BMI가 25보다 클 때 비만이라는 의미로 넣는 값이고, `0`은 BMI가 25미만인 경우에 넣어줄 값입니다.\n\n-   또한 `ifelse()`와 `is.na()`를 함께 사용하여 해당 열에 결측치가 있는 경우, 채워넣기 위한 용도로 자주 활용됩니다.\n\n\n    ::: {.cell}\n    \n    ```{.r .cell-code}\n    df$BMI2 <- ifelse(is.na(df$BMI), \n                     mean(df$BMI, na.rm=T),\n                     df$BMI)\n    summary(df$BMI)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n       Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n      15.30   23.68   26.41   25.68   27.68   32.22 \n    ```\n    :::\n    \n    ```{.r .cell-code}\n    summary(df$BMI2)\n    ```\n    \n    ::: {.cell-output .cell-output-stdout}\n    ```\n       Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n      15.30   23.68   26.41   25.68   27.68   32.22 \n    ```\n    :::\n    :::\n\n\n    `BMI2`는 `BMI`와 다르게 `NA`를 `BMI`의 평균으로 채워넣었습니다.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}