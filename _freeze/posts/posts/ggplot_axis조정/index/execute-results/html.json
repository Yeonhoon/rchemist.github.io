{
  "hash": "de6907fe073976b5f95922c0c177bf3a",
  "result": {
    "markdown": "---\ntitle: \"ggplot 세부 조정: 축 조정 \"\ndescription: \"그래프와 축 간격을 조정하거나 tick 간격을 변경하는 방법\"\ndate: '2023-02-12'\ncategories: [R, ggplot2, visualization]\nimage: \"https://cdn.inflearn.com/public/files/courses/326318/51793d26-4a01-4b89-b729-a17c2876f4ef/Ggplot2-logo.png\"\n---\n\n\n\n\n### 1) x축 tick 간격 조정\n\nggplot()을 이용해 그래프를 그리면 일반적으로 다음과 같이 출력됩니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n  geom_col()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nx축의 tick이 막대그래프의 중앙에 위치해있습니다. tick이 막대의 가운데가 아니라, 막대 양 옆에 위치하여 막대 아래에는 `Species`의 이름만 나타나게 하려면 다음과 같이 실행할 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(data.table)\niris_dt <- as.data.table(iris)\niris_dt$Species2 <- as.integer(as.factor(iris_dt$Species))\niris_dt\n```\n\n::: {.cell-output-display}\n<div class=\"kable-table\">\n\n| Sepal.Length| Sepal.Width| Petal.Length| Petal.Width|Species    | Species2|\n|------------:|-----------:|------------:|-----------:|:----------|--------:|\n|          5.1|         3.5|          1.4|         0.2|setosa     |        1|\n|          4.9|         3.0|          1.4|         0.2|setosa     |        1|\n|          4.7|         3.2|          1.3|         0.2|setosa     |        1|\n|          4.6|         3.1|          1.5|         0.2|setosa     |        1|\n|          5.0|         3.6|          1.4|         0.2|setosa     |        1|\n|          5.4|         3.9|          1.7|         0.4|setosa     |        1|\n|          4.6|         3.4|          1.4|         0.3|setosa     |        1|\n|          5.0|         3.4|          1.5|         0.2|setosa     |        1|\n|          4.4|         2.9|          1.4|         0.2|setosa     |        1|\n|          4.9|         3.1|          1.5|         0.1|setosa     |        1|\n|          5.4|         3.7|          1.5|         0.2|setosa     |        1|\n|          4.8|         3.4|          1.6|         0.2|setosa     |        1|\n|          4.8|         3.0|          1.4|         0.1|setosa     |        1|\n|          4.3|         3.0|          1.1|         0.1|setosa     |        1|\n|          5.8|         4.0|          1.2|         0.2|setosa     |        1|\n|          5.7|         4.4|          1.5|         0.4|setosa     |        1|\n|          5.4|         3.9|          1.3|         0.4|setosa     |        1|\n|          5.1|         3.5|          1.4|         0.3|setosa     |        1|\n|          5.7|         3.8|          1.7|         0.3|setosa     |        1|\n|          5.1|         3.8|          1.5|         0.3|setosa     |        1|\n|          5.4|         3.4|          1.7|         0.2|setosa     |        1|\n|          5.1|         3.7|          1.5|         0.4|setosa     |        1|\n|          4.6|         3.6|          1.0|         0.2|setosa     |        1|\n|          5.1|         3.3|          1.7|         0.5|setosa     |        1|\n|          4.8|         3.4|          1.9|         0.2|setosa     |        1|\n|          5.0|         3.0|          1.6|         0.2|setosa     |        1|\n|          5.0|         3.4|          1.6|         0.4|setosa     |        1|\n|          5.2|         3.5|          1.5|         0.2|setosa     |        1|\n|          5.2|         3.4|          1.4|         0.2|setosa     |        1|\n|          4.7|         3.2|          1.6|         0.2|setosa     |        1|\n|          4.8|         3.1|          1.6|         0.2|setosa     |        1|\n|          5.4|         3.4|          1.5|         0.4|setosa     |        1|\n|          5.2|         4.1|          1.5|         0.1|setosa     |        1|\n|          5.5|         4.2|          1.4|         0.2|setosa     |        1|\n|          4.9|         3.1|          1.5|         0.2|setosa     |        1|\n|          5.0|         3.2|          1.2|         0.2|setosa     |        1|\n|          5.5|         3.5|          1.3|         0.2|setosa     |        1|\n|          4.9|         3.6|          1.4|         0.1|setosa     |        1|\n|          4.4|         3.0|          1.3|         0.2|setosa     |        1|\n|          5.1|         3.4|          1.5|         0.2|setosa     |        1|\n|          5.0|         3.5|          1.3|         0.3|setosa     |        1|\n|          4.5|         2.3|          1.3|         0.3|setosa     |        1|\n|          4.4|         3.2|          1.3|         0.2|setosa     |        1|\n|          5.0|         3.5|          1.6|         0.6|setosa     |        1|\n|          5.1|         3.8|          1.9|         0.4|setosa     |        1|\n|          4.8|         3.0|          1.4|         0.3|setosa     |        1|\n|          5.1|         3.8|          1.6|         0.2|setosa     |        1|\n|          4.6|         3.2|          1.4|         0.2|setosa     |        1|\n|          5.3|         3.7|          1.5|         0.2|setosa     |        1|\n|          5.0|         3.3|          1.4|         0.2|setosa     |        1|\n|          7.0|         3.2|          4.7|         1.4|versicolor |        2|\n|          6.4|         3.2|          4.5|         1.5|versicolor |        2|\n|          6.9|         3.1|          4.9|         1.5|versicolor |        2|\n|          5.5|         2.3|          4.0|         1.3|versicolor |        2|\n|          6.5|         2.8|          4.6|         1.5|versicolor |        2|\n|          5.7|         2.8|          4.5|         1.3|versicolor |        2|\n|          6.3|         3.3|          4.7|         1.6|versicolor |        2|\n|          4.9|         2.4|          3.3|         1.0|versicolor |        2|\n|          6.6|         2.9|          4.6|         1.3|versicolor |        2|\n|          5.2|         2.7|          3.9|         1.4|versicolor |        2|\n|          5.0|         2.0|          3.5|         1.0|versicolor |        2|\n|          5.9|         3.0|          4.2|         1.5|versicolor |        2|\n|          6.0|         2.2|          4.0|         1.0|versicolor |        2|\n|          6.1|         2.9|          4.7|         1.4|versicolor |        2|\n|          5.6|         2.9|          3.6|         1.3|versicolor |        2|\n|          6.7|         3.1|          4.4|         1.4|versicolor |        2|\n|          5.6|         3.0|          4.5|         1.5|versicolor |        2|\n|          5.8|         2.7|          4.1|         1.0|versicolor |        2|\n|          6.2|         2.2|          4.5|         1.5|versicolor |        2|\n|          5.6|         2.5|          3.9|         1.1|versicolor |        2|\n|          5.9|         3.2|          4.8|         1.8|versicolor |        2|\n|          6.1|         2.8|          4.0|         1.3|versicolor |        2|\n|          6.3|         2.5|          4.9|         1.5|versicolor |        2|\n|          6.1|         2.8|          4.7|         1.2|versicolor |        2|\n|          6.4|         2.9|          4.3|         1.3|versicolor |        2|\n|          6.6|         3.0|          4.4|         1.4|versicolor |        2|\n|          6.8|         2.8|          4.8|         1.4|versicolor |        2|\n|          6.7|         3.0|          5.0|         1.7|versicolor |        2|\n|          6.0|         2.9|          4.5|         1.5|versicolor |        2|\n|          5.7|         2.6|          3.5|         1.0|versicolor |        2|\n|          5.5|         2.4|          3.8|         1.1|versicolor |        2|\n|          5.5|         2.4|          3.7|         1.0|versicolor |        2|\n|          5.8|         2.7|          3.9|         1.2|versicolor |        2|\n|          6.0|         2.7|          5.1|         1.6|versicolor |        2|\n|          5.4|         3.0|          4.5|         1.5|versicolor |        2|\n|          6.0|         3.4|          4.5|         1.6|versicolor |        2|\n|          6.7|         3.1|          4.7|         1.5|versicolor |        2|\n|          6.3|         2.3|          4.4|         1.3|versicolor |        2|\n|          5.6|         3.0|          4.1|         1.3|versicolor |        2|\n|          5.5|         2.5|          4.0|         1.3|versicolor |        2|\n|          5.5|         2.6|          4.4|         1.2|versicolor |        2|\n|          6.1|         3.0|          4.6|         1.4|versicolor |        2|\n|          5.8|         2.6|          4.0|         1.2|versicolor |        2|\n|          5.0|         2.3|          3.3|         1.0|versicolor |        2|\n|          5.6|         2.7|          4.2|         1.3|versicolor |        2|\n|          5.7|         3.0|          4.2|         1.2|versicolor |        2|\n|          5.7|         2.9|          4.2|         1.3|versicolor |        2|\n|          6.2|         2.9|          4.3|         1.3|versicolor |        2|\n|          5.1|         2.5|          3.0|         1.1|versicolor |        2|\n|          5.7|         2.8|          4.1|         1.3|versicolor |        2|\n|          6.3|         3.3|          6.0|         2.5|virginica  |        3|\n|          5.8|         2.7|          5.1|         1.9|virginica  |        3|\n|          7.1|         3.0|          5.9|         2.1|virginica  |        3|\n|          6.3|         2.9|          5.6|         1.8|virginica  |        3|\n|          6.5|         3.0|          5.8|         2.2|virginica  |        3|\n|          7.6|         3.0|          6.6|         2.1|virginica  |        3|\n|          4.9|         2.5|          4.5|         1.7|virginica  |        3|\n|          7.3|         2.9|          6.3|         1.8|virginica  |        3|\n|          6.7|         2.5|          5.8|         1.8|virginica  |        3|\n|          7.2|         3.6|          6.1|         2.5|virginica  |        3|\n|          6.5|         3.2|          5.1|         2.0|virginica  |        3|\n|          6.4|         2.7|          5.3|         1.9|virginica  |        3|\n|          6.8|         3.0|          5.5|         2.1|virginica  |        3|\n|          5.7|         2.5|          5.0|         2.0|virginica  |        3|\n|          5.8|         2.8|          5.1|         2.4|virginica  |        3|\n|          6.4|         3.2|          5.3|         2.3|virginica  |        3|\n|          6.5|         3.0|          5.5|         1.8|virginica  |        3|\n|          7.7|         3.8|          6.7|         2.2|virginica  |        3|\n|          7.7|         2.6|          6.9|         2.3|virginica  |        3|\n|          6.0|         2.2|          5.0|         1.5|virginica  |        3|\n|          6.9|         3.2|          5.7|         2.3|virginica  |        3|\n|          5.6|         2.8|          4.9|         2.0|virginica  |        3|\n|          7.7|         2.8|          6.7|         2.0|virginica  |        3|\n|          6.3|         2.7|          4.9|         1.8|virginica  |        3|\n|          6.7|         3.3|          5.7|         2.1|virginica  |        3|\n|          7.2|         3.2|          6.0|         1.8|virginica  |        3|\n|          6.2|         2.8|          4.8|         1.8|virginica  |        3|\n|          6.1|         3.0|          4.9|         1.8|virginica  |        3|\n|          6.4|         2.8|          5.6|         2.1|virginica  |        3|\n|          7.2|         3.0|          5.8|         1.6|virginica  |        3|\n|          7.4|         2.8|          6.1|         1.9|virginica  |        3|\n|          7.9|         3.8|          6.4|         2.0|virginica  |        3|\n|          6.4|         2.8|          5.6|         2.2|virginica  |        3|\n|          6.3|         2.8|          5.1|         1.5|virginica  |        3|\n|          6.1|         2.6|          5.6|         1.4|virginica  |        3|\n|          7.7|         3.0|          6.1|         2.3|virginica  |        3|\n|          6.3|         3.4|          5.6|         2.4|virginica  |        3|\n|          6.4|         3.1|          5.5|         1.8|virginica  |        3|\n|          6.0|         3.0|          4.8|         1.8|virginica  |        3|\n|          6.9|         3.1|          5.4|         2.1|virginica  |        3|\n|          6.7|         3.1|          5.6|         2.4|virginica  |        3|\n|          6.9|         3.1|          5.1|         2.3|virginica  |        3|\n|          5.8|         2.7|          5.1|         1.9|virginica  |        3|\n|          6.8|         3.2|          5.9|         2.3|virginica  |        3|\n|          6.7|         3.3|          5.7|         2.5|virginica  |        3|\n|          6.7|         3.0|          5.2|         2.3|virginica  |        3|\n|          6.3|         2.5|          5.0|         1.9|virginica  |        3|\n|          6.5|         3.0|          5.2|         2.0|virginica  |        3|\n|          6.2|         3.4|          5.4|         2.3|virginica  |        3|\n|          5.9|         3.0|          5.1|         1.8|virginica  |        3|\n\n</div>\n:::\n\n```{.r .cell-code}\nx_ticks <- c(0, unique(iris_dt$Species2))+0.5\nx_ticks\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.5 1.5 2.5 3.5\n```\n:::\n\n```{.r .cell-code}\nlen <- length(x_ticks)\n\nggplot(iris_dt, aes(x = Species2, y = Sepal.Length)) +\n  geom_col() +\n  scale_x_continuous(\n    breaks= c(unique(iris_dt$Species2),x_ticks),\n    labels = c(unique(as.character(iris_dt$Species)), rep(\"\",len))\n  ) +\n  theme(\n    axis.ticks.x = element_line(color=c(rep(NA,len-1), rep('black',len)))\n  )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### 2) y축 간격 없애기\n\n원래 그래프를 보면 y축의 0과 x축이 떨어져 있는 것을 알 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n  geom_col()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n이제 y축의 범위를 아래와 같이 지정해주겠습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(iris, aes(x = Species, y = Sepal.Length)) +\n  geom_col() +\n  scale_y_continuous(expand=c(0,0))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n이처럼 expand를 통해 막대그래프가 x축에 붙어있을 수 있도록 출력할 수 있습니다.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}