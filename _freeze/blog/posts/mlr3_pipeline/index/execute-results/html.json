{
  "hash": "dfe1be4f98bac45164b469e55e1434d8",
  "result": {
    "markdown": "---\ntitle: \"mlr3 파이프라인\"\ndescription: \"그래프를 통한 데이터 핸들링\"\nauthor: \"JYH\"\ndate: \"2023-04-28\"\ncategories: [R, mlr3, machine learning]\nimage: \"https://mlr3proba.mlr-org.com/logo.svg\"\n---\n\n\n::: callout-important\n이 글은 [mlr3book](https://mlr3book.mlr-org.com/)[^_mlr3_setup-1]을 참고하여 작성되었습니다. 국내 R 사용자들에게 잘 알려지지 않은 `mlr3`[^_mlr3_setup-2] 패키지를 통해, R에서도 손쉽게 머신러닝을 수행할 수 있다는 것을 보여드리고자 합니다.\n:::\n\n[^_mlr3_setup-1]: https://mlr3book.mlr-org.com/\n\n[^_mlr3_setup-2]: https://mlr3.mlr-org.com/\n\n\n\n## 0. 인트로\n\n전처리를 수행할 수도 있고, 태스크 일부분 선택, 러너 생성 후 예측, 앙상블 등\n\ntidymodels의 recipe 와 비슷한 패키지\n\n## 1.Block 만들기\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mlr3pipelines)\nlibrary(mlr3learners)\nlibrary(data.table)\nas.data.table(mlr_pipeops)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"key\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"label\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"packages\"],\"name\":[3],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"tags\"],\"name\":[4],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"feature_types\"],\"name\":[5],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"input.num\"],\"name\":[6],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"output.num\"],\"name\":[7],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"input.type.train\"],\"name\":[8],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"input.type.predict\"],\"name\":[9],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"output.type.train\"],\"name\":[10],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\"output.type.predict\"],\"name\":[11],\"type\":[\"list\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"boxcox\",\"2\":\"Box-Cox Transformation of Numeric Features\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"branch\",\"2\":\"Path Branching\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"NA\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"chunk\",\"2\":\"Chunk Input into Multiple Outputs\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"NA\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"classbalancing\",\"2\":\"Class Balancing\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"classifavg\",\"2\":\"Majority Vote Prediction\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"NA\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"classweights\",\"2\":\"Class Weights for Sample Weighting\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"colapply\",\"2\":\"Apply a Function to each Column of a Task\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"collapsefactors\",\"2\":\"Collapse Factors\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"colroles\",\"2\":\"Change Column Roles of a Task\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"copy\",\"2\":\"Copy Input Multiple Times\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"NA\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"datefeatures\",\"2\":\"Preprocess Date Features\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"encode\",\"2\":\"Factor Encoding\",\"3\":\"<chr [2]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"encodeimpact\",\"2\":\"Conditional Target Value Impact Encoding\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"encodelmer\",\"2\":\"Impact Encoding with Random Intercept Models\",\"3\":\"<chr [3]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"featureunion\",\"2\":\"Aggregate Features from Multiple Inputs\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"NA\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"filter\",\"2\":\"Feature Filtering\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"fixfactors\",\"2\":\"Fix Factor Levels\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"histbin\",\"2\":\"Split Numeric Features into Equally Spaced Bins\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"ica\",\"2\":\"Independent Component Analysis\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputeconstant\",\"2\":\"Impute Features by a Constant\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputehist\",\"2\":\"Impute Numerical Features by Histogram\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputelearner\",\"2\":\"Impute Features by Fitting a Learner\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [3]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputemean\",\"2\":\"Impute Numerical Features by their Mean\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputemedian\",\"2\":\"Impute Numerical Features by their Median\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputemode\",\"2\":\"Impute Features by their Mode\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [5]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputeoor\",\"2\":\"Out of Range Imputation\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [5]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"imputesample\",\"2\":\"Impute Features by Sampling\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [5]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"kernelpca\",\"2\":\"Kernelized Principle Component Analysis\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"learner\",\"2\":\"Wrap a Learner into a PipeOp\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"learner_cv\",\"2\":\"Wrap a Learner into a PipeOp with Cross-validated Predictions as Features\",\"3\":\"<chr [1]>\",\"4\":\"<chr [3]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"missind\",\"2\":\"Add Missing Indicator Columns\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"modelmatrix\",\"2\":\"Transform Columns by Constructing a Model Matrix\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"multiplicityexply\",\"2\":\"Explicate a Multiplicity\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"NA\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"multiplicityimply\",\"2\":\"Implicate a Multiplicity\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"NA\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"mutate\",\"2\":\"Add Features According to Expressions\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"nmf\",\"2\":\"Non-negative Matrix Factorization\",\"3\":\"<chr [3]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"nop\",\"2\":\"Simply Push Input Forward\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"ovrsplit\",\"2\":\"Split a Classification Task into Binary Classification Tasks\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"ovrunite\",\"2\":\"Unite Binary Classification Tasks\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"pca\",\"2\":\"Principle Component Analysis\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"proxy\",\"2\":\"Wrap another PipeOp or Graph as a Hyperparameter\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"NA\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"quantilebin\",\"2\":\"Split Numeric Features into Quantile Bins\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"randomprojection\",\"2\":\"Project Numeric Features onto a Randomly Sampled Subspace\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"randomresponse\",\"2\":\"Generate a Randomized Response Prediction\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"regravg\",\"2\":\"Weighted Prediction Averaging\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"NA\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"removeconstants\",\"2\":\"Remove Constant Features\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"renamecolumns\",\"2\":\"Rename Columns\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"replicate\",\"2\":\"Replicate the Input as a Multiplicity\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"scale\",\"2\":\"Center and Scale Numeric Features\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"scalemaxabs\",\"2\":\"Scale Numeric Features with Respect to their Maximum Absolute Value\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"scalerange\",\"2\":\"Linearly Transform Numeric Features to Match Given Boundaries\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"select\",\"2\":\"Remove Features Depending on a Selector\",\"3\":\"<chr [1]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"smote\",\"2\":\"SMOTE Balancing\",\"3\":\"<chr [2]>\",\"4\":\"<chr [2]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"spatialsign\",\"2\":\"Normalize Data Row-wise\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"subsample\",\"2\":\"Subsampling\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"targetinvert\",\"2\":\"Invert Target Transformations\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"2\",\"7\":\"1\",\"8\":\"<chr [2]>\",\"9\":\"<chr [2]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"targetmutate\",\"2\":\"Transform a Target by a Function\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"2\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [2]>\",\"11\":\"<chr [2]>\"},{\"1\":\"targettrafoscalerange\",\"2\":\"Linearly Transform a Numeric Target to Match Given Boundaries\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"2\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [2]>\",\"11\":\"<chr [2]>\"},{\"1\":\"textvectorizer\",\"2\":\"Bag-of-word Representation of Character Features\",\"3\":\"<chr [3]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"threshold\",\"2\":\"Change the Threshold of a Classification Prediction\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"tunethreshold\",\"2\":\"Tune the Threshold of a Classification Prediction\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"unbranch\",\"2\":\"Unbranch Different Paths\",\"3\":\"<chr [1]>\",\"4\":\"<chr [1]>\",\"5\":\"<lgl [1]>\",\"6\":\"NA\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"vtreat\",\"2\":\"Interface to the vtreat Package\",\"3\":\"<chr [2]>\",\"4\":\"<chr [3]>\",\"5\":\"<chr [7]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"},{\"1\":\"yeojohnson\",\"2\":\"Yeo-Johnson Transformation of Numeric Features\",\"3\":\"<chr [2]>\",\"4\":\"<chr [1]>\",\"5\":\"<chr [2]>\",\"6\":\"1\",\"7\":\"1\",\"8\":\"<chr [1]>\",\"9\":\"<chr [1]>\",\"10\":\"<chr [1]>\",\"11\":\"<chr [1]>\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npca = mlr_pipeops$get(\"pca\")\npca = po(\"pca\") # sugar function\npca\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nPipeOp: <pca> (not trained)\nvalues: <list()>\nInput channels <name [train type, predict type]>:\n  input [Task,Task]\nOutput channels <name [train type, predict type]>:\n  output [Task,Task]\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlearner = po(\"learner\", lrn(\"classif.rpart\"))\n```\n:::\n\n\n## 2. `%>>%`: pipe operator\n\n%\\>\\>% 파이프 연산자를 이용해 파이프옵스(PipeOps) 객체 연결\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngr = po(\"scale\") %>>% po(\"pca\")\n\ngr$plot()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## 3. 노드, 엣지, 그래프\n\nPOs는 그래프로 결합될 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmutate = po(\"mutate\")\nfilter = po(\"filter\",\n            filter = mlr3filters::flt(\"variance\"),\n            param_vals = list(filter.frac = .5)\n        )\n\ngraph = Graph$new()$\n          add_pipeop(mutate)$\n          add_pipeop(filter)$\n          add_edge(\"mutate\",\"variance\")\ngraph$plot()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## 4. 모델링\n\n그래프의 주 목적은 전처리와 모델링을 결합한 파이프라인을 만들어 이 과정을 한꺼번에 진행하는 것이라 할 수 있습니다.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmutate = po(\"mutate\")\nfilter = po(\"filter\",\n            filter = mlr3filters::flt(\"variance\"),\n            param_vals = list(filter.frac = .5))\nleaner = po(\"learner\", lrn(\"classif.rpart\"))\ngraph = mutate %>>%\n        filter %>>%\n        learner\n\ntask = tsk(\"iris\")\ngraph$train(task)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$classif.rpart.output\nNULL\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngraph$predict(task)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n$classif.rpart.output\n<PredictionClassif> for 150 observations:\n    row_ids     truth  response\n          1    setosa    setosa\n          2    setosa    setosa\n          3    setosa    setosa\n---                            \n        148 virginica virginica\n        149 virginica virginica\n        150 virginica virginica\n```\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}